CREATE DATABASE student_management;

https://claude.ai/public/artifacts/28419b46-c56b-4769-a694-8844a9a7c1d1

students (1) â†â†’ (N) academic_records
students (1) â†â†’ (N) financial_records
students (1) â†â†’ (1) student_profiles
students (N) â†â†’ (N) subjects (thÃ´ng qua grade_details)
subjects (1) â†â†’ (N) grade_details


ðŸ’° ThÃ´ng tin tÃ i chÃ­nh (Financial Info)

tuition â†’ å­¦è²» (ãŒãã²)
scholarship â†’ å¥¨å­¦é‡‘ (ã—ã‚‡ã†ãŒããã‚“)
payment â†’ æ”¯æ‰•ã„ (ã—ã¯ã‚‰ã„)
fee â†’ æ–™é‡‘ (ã‚Šã‚‡ã†ãã‚“)
total â†’ åˆè¨ˆ (ã”ã†ã‘ã„)

ðŸ“Š ThÃ´ng tin há»‡ thá»‘ng (System Info)

id â†’ ç•ªå· (ã°ã‚“ã”ã†)
created_at â†’ ä½œæˆæ—¥æ™‚ (ã•ãã›ã„ã«ã¡ã˜)
updated_at â†’ æ›´æ–°æ—¥æ™‚ (ã“ã†ã—ã‚“ã«ã¡ã˜)
status â†’ çŠ¶æ…‹ (ã˜ã‚‡ã†ãŸã„)
type â†’ ç¨®é¡ž (ã—ã‚…ã‚‹ã„)

ðŸ’¼ ThÃ´ng tin nghá» nghiá»‡p (Career Info)

skills â†’ èƒ½åŠ› (ã®ã†ã‚Šã‚‡ã)
aspirations â†’ å¸Œæœ› (ãã¼ã†)
achievements â†’ å®Ÿç¸¾ (ã˜ã£ã›ã)
certifications â†’ è³‡æ ¼ (ã—ã‹ã)
experience â†’ çµŒé¨“ (ã‘ã„ã‘ã‚“)


ThÃ´ng tin cÃ¡ nhÃ¢n (Personal Info)

name â†’ åå‰ (ãªã¾ãˆ)
full_name â†’ æ°å (ã—ã‚ã„)
first_name â†’ å (ã‚ã„)
last_name â†’ å§“ (ã›ã„)
birth_date â†’ ç”Ÿå¹´æœˆæ—¥ (ã›ã„ã­ã‚“ãŒã£ã´)
age â†’ å¹´é½¢ (ã­ã‚“ã‚Œã„)
gender â†’ æ€§åˆ¥ (ã›ã„ã¹ã¤)
address â†’ ä½æ‰€ (ã˜ã‚…ã†ã—ã‚‡)
phone â†’ é›»è©±ç•ªå· (ã§ã‚“ã‚ã°ã‚“ã”ã†)
email â†’ ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹



| student_id | å­¦ç”ŸIDï¼ˆãŒãã›ã„IDï¼‰ | MÃ£ sá»‘ há»c sinh, khÃ³a chÃ­nh |
| full_name | æ°åï¼ˆã—ã‚ã„ï¼‰ | Há» vÃ  tÃªn Ä‘áº§y Ä‘á»§ |
| birth_date | ç”Ÿå¹´æœˆæ—¥ï¼ˆã›ã„ã­ã‚“ãŒã£ã´ï¼‰ | NgÃ y sinh |
| gender | æ€§åˆ¥ï¼ˆã›ã„ã¹ã¤ï¼‰ | Giá»›i tÃ­nh |
| address | ä½æ‰€ï¼ˆã˜ã‚…ã†ã—ã‚‡ï¼‰ | Äá»‹a chá»‰ |
| email | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ | Email |
| phone | é›»è©±ç•ªå·ï¼ˆã§ã‚“ã‚ã°ã‚“ã”ã†ï¼‰ | Sá»‘ Ä‘iá»‡n thoáº¡i |
| class_name | ã‚¯ãƒ©ã‚¹åï¼ˆã‚¯ãƒ©ã‚¹ã‚ã„ï¼‰ | TÃªn lá»›p |
| major | å°‚æ”»ï¼ˆã›ã‚“ã“ã†ï¼‰ | ChuyÃªn ngÃ nh |
| grade_level | å­¦å¹´ï¼ˆãŒãã­ã‚“ï¼‰ | NÄƒm há»c (1â€“4) |
| enrollment_date | å…¥å­¦æ—¥ï¼ˆã«ã‚…ã†ãŒãã³ï¼‰ | NgÃ y nháº­p há»c |
| status | åœ¨å­¦çŠ¶æ³ï¼ˆã–ã„ãŒãã˜ã‚‡ã†ãã‚‡ã†ï¼‰ | TÃ¬nh tráº¡ng há»c táº­p |
| created_at | ç™»éŒ²æ—¥æ™‚ï¼ˆã¨ã†ã‚ãã«ã¡ã˜ï¼‰ | Thá»i Ä‘iá»ƒm táº¡o báº£n ghi |
| updated_at | æ›´æ–°æ—¥æ™‚ï¼ˆã“ã†ã—ã‚“ã«ã¡ã˜ï¼‰ | Thá»i Ä‘iá»ƒm cáº­p nháº­t báº£n ghi |
| idx_student_name | æ°åã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ | Index theo tÃªn há»c sinh |
| idx_student_grade | å­¦å¹´ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ | Index theo nÄƒm há»c |
| idx_student_major | å°‚æ”»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ | Index theo chuyÃªn ngÃ nh |



CREATE TABLE students (
    student_id INT PRIMARY KEY AUTO_INCREMENT,
    full_name VARCHAR(100) NOT NULL,
    birth_date DATE NOT NULL,
    gender VARCHAR(10) NOT NULL,
    address VARCHAR(255) ,
    email VARCHAR(100) UNIQUE,
    phone VARCHAR(20),
    class_name VARCHAR(20),
    major VARCHAR(50),
    grade_level INT CHECK (grade_level BETWEEN 1 AND 4),
    enrollment_date DATE,
    status VARCHAR(40) DEFAULT 'åœ¨å­¦ä¸­',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_student_name (full_name),
    INDEX idx_student_grade (grade_level),
    INDEX idx_student_major (major)
);

| record_id           | æˆç¸¾è¨˜éŒ²IDï¼ˆã›ã„ã›ããã‚ãIDï¼‰         | MÃ£ báº£n ghi Ä‘iá»ƒm, khÃ³a chÃ­nh |
| student_id          | å­¦ç”ŸIDï¼ˆãŒãã›ã„IDï¼‰                   | MÃ£ sá»‘ há»c sinh, liÃªn káº¿t vá»›i báº£ng students |
| academic_year       | å­¦å¹´åº¦ï¼ˆãŒãã­ã‚“ã©ï¼‰                   | NÄƒm há»c (dáº¡ng YYYY) |
| semester            | å­¦æœŸï¼ˆãŒã£ãï¼‰                         | Há»c ká»³: å‰æœŸ (ká»³ Ä‘áº§u), å¾ŒæœŸ (ká»³ sau), é€šå¹´ (cáº£ nÄƒm) |

| first_term_score    | ç¬¬1æœŸæˆç¸¾ï¼ˆã ã„ã„ã£ãã›ã„ã›ãï¼‰         | Äiá»ƒm kiá»ƒm tra ká»³ 1 |
| second_term_score   | ç¬¬2æœŸæˆç¸¾ï¼ˆã ã„ã«ãã›ã„ã›ãï¼‰           | Äiá»ƒm kiá»ƒm tra ká»³ 2 |
| third_term_score    | ç¬¬3æœŸæˆç¸¾ï¼ˆã ã„ã•ã‚“ãã›ã„ã›ãï¼‰         | Äiá»ƒm kiá»ƒm tra ká»³ 3 |
| fourth_term_score   | ç¬¬4æœŸæˆç¸¾ï¼ˆã ã„ã‚ˆã‚“ãã›ã„ã›ãï¼‰         | Äiá»ƒm kiá»ƒm tra ká»³ 4 |

| overall_grade       | ç·åˆæˆç¸¾ï¼ˆãã†ã”ã†ã›ã„ã›ãï¼‰            | Äiá»ƒm tá»•ng káº¿t (tá»± Ä‘á»™ng tÃ­nh trung bÃ¬nh) |
| attendance_status   | å‡ºå¸­çŠ¶æ³ï¼ˆã—ã‚…ã£ã›ãã˜ã‚‡ã†ãã‚‡ã†ï¼‰      | TÃ¬nh tráº¡ng Ä‘i há»c: å„ªç§€, è‰¯å¥½, æ™®é€š, è¦æ”¹å–„, ä¸è‰¯ |
| achievements        | å®Ÿç¸¾ï¼ˆã˜ã£ã›ãï¼‰                        | ThÃ nh tÃ­ch, giáº£i thÆ°á»Ÿng, hoáº¡t Ä‘á»™ng |

| created_at          | ä½œæˆæ—¥æ™‚ï¼ˆã•ãã›ã„ã«ã¡ã˜ï¼‰              | Thá»i Ä‘iá»ƒm táº¡o báº£n ghi |
| updated_at          | æ›´æ–°æ—¥æ™‚ï¼ˆã“ã†ã—ã‚“ã«ã¡ã˜ï¼‰              | Thá»i Ä‘iá»ƒm cáº­p nháº­t báº£n ghi |

| FOREIGN KEY         | å¤–éƒ¨ã‚­ãƒ¼ï¼ˆãŒã„ã¶ã‚­ãƒ¼ï¼‰                  | LiÃªn káº¿t vá»›i báº£ng students qua student_id |
| UNIQUE KEY          | ä¸€æ„ã‚­ãƒ¼ï¼ˆã„ã¡ã„ã‚­ãƒ¼ï¼‰                  | Äáº£m báº£o má»—i há»c sinh chá»‰ cÃ³ 1 báº£n ghi má»—i nÄƒm há»c + há»c ká»³ |
| idx_academic_year   | å­¦å¹´åº¦ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹                      | Index theo nÄƒm há»c |
| idx_overall_grade   | ç·åˆæˆç¸¾ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹                    | Index theo Ä‘iá»ƒm tá»•ng káº¿t |

CREATE TABLE academic_records (
    record_id INT PRIMARY KEY AUTO_INCREMENT,
    student_id INT NOT NULL,
    academic_year YEAR NOT NULL,
    semester VARCHAR(20),

    first_term_score DECIMAL(5,2) CHECK (first_term_score >= 0 AND first_term_score <= 100),
    second_term_score DECIMAL(5,2) CHECK (second_term_score >= 0 AND second_term_score <= 100),
    third_term_score DECIMAL(5,2) CHECK (third_term_score >= 0 AND third_term_score <= 100),
    fourth_term_score DECIMAL(5,2) CHECK (fourth_term_score >= 0 AND fourth_term_score <= 100),

    overall_grade DECIMAL(5,2) GENERATED ALWAYS AS (
        (IFNULL(first_term_score, 0) + IFNULL(second_term_score, 0) +
         IFNULL(third_term_score, 0) + IFNULL(fourth_term_score, 0)) / 4
    ) STORED,

    attendance_status ENUM('å„ªç§€', 'è‰¯å¥½', 'æ™®é€š', 'è¦æ”¹å–„', 'ä¸è‰¯') DEFAULT 'æ™®é€š',
    achievements TEXT,

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE,
    UNIQUE KEY unique_student_year_semester (student_id, academic_year, semester),
    INDEX idx_academic_year (academic_year),
    INDEX idx_overall_grade (overall_grade)
);


| finance_id           | è²¡å‹™è¨˜éŒ²IDï¼ˆã–ã„ã‚€ãã‚ãIDï¼‰             | MÃ£ báº£n ghi tÃ i chÃ­nh, khÃ³a chÃ­nh |
| student_id           | å­¦ç”ŸIDï¼ˆãŒãã›ã„IDï¼‰                     | MÃ£ sá»‘ há»c sinh, liÃªn káº¿t vá»›i báº£ng students |
| academic_year        | å­¦å¹´åº¦ï¼ˆãŒãã­ã‚“ã©ï¼‰                     | NÄƒm há»c (dáº¡ng YYYY) |

| first_year_tuition   | ç¬¬1å¹´å­¦è²»ï¼ˆã ã„ã„ã¡ã­ã‚“ãŒãã²ï¼‰           | Há»c phÃ­ nÄƒm 1 |
| second_year_tuition  | ç¬¬2å¹´å­¦è²»ï¼ˆã ã„ã«ã­ã‚“ãŒãã²ï¼‰             | Há»c phÃ­ nÄƒm 2 |
| third_year_tuition   | ç¬¬3å¹´å­¦è²»ï¼ˆã ã„ã•ã‚“ã­ã‚“ãŒãã²ï¼‰           | Há»c phÃ­ nÄƒm 3 |
| fourth_year_tuition  | ç¬¬4å¹´å­¦è²»ï¼ˆã ã„ã‚ˆã‚“ã­ã‚“ãŒãã²ï¼‰           | Há»c phÃ­ nÄƒm 4 |

| scholarship_amount   | å¥¨å­¦é‡‘é¡ï¼ˆã—ã‚‡ã†ãŒããã‚“ãŒãï¼‰             | Sá»‘ tiá»n há»c bá»•ng |
| total_tuition        | ç·å­¦è²»ï¼ˆãã†ãŒãã²ï¼‰                       | Tá»•ng há»c phÃ­ sau khi trá»« há»c bá»•ng (tá»± Ä‘á»™ng tÃ­nh) |

| payment_status       | æ”¯æ‰•ã„çŠ¶æ³ï¼ˆã—ã¯ã‚‰ã„ã˜ã‚‡ã†ãã‚‡ã†ï¼‰         | Tráº¡ng thÃ¡i thanh toÃ¡n: æœªç´, ä¸€éƒ¨ç´ä»˜, å®Œç´, å…é™¤ |
| payment_date         | æ”¯æ‰•æ—¥ï¼ˆã—ã¯ã‚‰ã„ã³ï¼‰                       | NgÃ y thanh toÃ¡n |
| notes                | å‚™è€ƒï¼ˆã³ã“ã†ï¼‰                             | Ghi chÃº thÃªm |

| created_at           | ä½œæˆæ—¥æ™‚ï¼ˆã•ãã›ã„ã«ã¡ã˜ï¼‰                 | Thá»i Ä‘iá»ƒm táº¡o báº£n ghi |
| updated_at           | æ›´æ–°æ—¥æ™‚ï¼ˆã“ã†ã—ã‚“ã«ã¡ã˜ï¼‰                 | Thá»i Ä‘iá»ƒm cáº­p nháº­t báº£n ghi |

| FOREIGN KEY          | å¤–éƒ¨ã‚­ãƒ¼ï¼ˆãŒã„ã¶ã‚­ãƒ¼ï¼‰                     | LiÃªn káº¿t vá»›i báº£ng students qua student_id |
| UNIQUE KEY           | ä¸€æ„ã‚­ãƒ¼ï¼ˆã„ã¡ã„ã‚­ãƒ¼ï¼‰                     | Äáº£m báº£o má»—i há»c sinh chá»‰ cÃ³ 1 báº£n ghi má»—i nÄƒm há»c |
| idx_payment_status   | æ”¯æ‰•ã„çŠ¶æ³ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹                     | Index theo tráº¡ng thÃ¡i thanh toÃ¡n |
| idx_total_tuition    | ç·å­¦è²»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹                         | Index theo tá»•ng há»c phÃ­ |

CREATE TABLE financial_records (
    finance_id INT PRIMARY KEY AUTO_INCREMENT,
    student_id INT NOT NULL,
    academic_year YEAR NOT NULL,

    first_year_tuition DECIMAL(10,2) DEFAULT 0,
    second_year_tuition DECIMAL(10,2) DEFAULT 0,
    third_year_tuition DECIMAL(10,2) DEFAULT 0,
    fourth_year_tuition DECIMAL(10,2) DEFAULT 0,

    scholarship_amount DECIMAL(10,2) DEFAULT 0,

    total_tuition DECIMAL(10,2) GENERATED ALWAYS AS (
        first_year_tuition + second_year_tuition + third_year_tuition + fourth_year_tuition - scholarship_amount
    ) STORED,

    payment_status ENUM('æœªç´', 'ä¸€éƒ¨ç´ä»˜', 'å®Œç´', 'å…é™¤') DEFAULT 'æœªç´',
    payment_date DATE,
    notes TEXT,

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE,
    UNIQUE KEY unique_student_finance_year (student_id, academic_year),
    INDEX idx_payment_status (payment_status),
    INDEX idx_total_tuition (total_tuition)
);



| profile_id             | ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«IDï¼ˆã·ã‚ãµãã„ã‚‹IDï¼‰         | MÃ£ há»“ sÆ¡, khÃ³a chÃ­nh |
| student_id             | å­¦ç”ŸIDï¼ˆãŒãã›ã„IDï¼‰                     | MÃ£ sá»‘ há»c sinh, liÃªn káº¿t vá»›i báº£ng students |
| skills                 | ã‚¹ã‚­ãƒ«                                   | Ká»¹ nÄƒng chuyÃªn mÃ´n hoáº·c má»m |
| aspirations            | å¸Œæœ›ï¼ˆãã¼ã†ï¼‰                            | Nguyá»‡n vá»ng há»c táº­p hoáº·c nghá» nghiá»‡p |
| certifications         | è³‡æ ¼ï¼ˆã—ã‹ãï¼‰                            | Chá»©ng chá»‰ Ä‘Ã£ Ä‘áº¡t Ä‘Æ°á»£c |
| languages              | ä½¿ç”¨è¨€èªžï¼ˆã—ã‚ˆã†ã’ã‚“ã”ï¼‰                  | NgÃ´n ngá»¯ sá»­ dá»¥ng hoáº·c thÃ nh tháº¡o |
| hobbies                | è¶£å‘³ï¼ˆã—ã‚…ã¿ï¼‰                            | Sá»Ÿ thÃ­ch cÃ¡ nhÃ¢n |
| career_goals           | ã‚­ãƒ£ãƒªã‚¢ç›®æ¨™ï¼ˆãã‚ƒã‚Šã‚ã‚‚ãã²ã‚‡ã†ï¼‰        | Má»¥c tiÃªu nghá» nghiá»‡p dÃ i háº¡n |
| profile_updated_date   | ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°æ—¥ï¼ˆã“ã†ã—ã‚“ã³ï¼‰          | NgÃ y cáº­p nháº­t há»“ sÆ¡ gáº§n nháº¥t |
| created_at             | ä½œæˆæ—¥æ™‚ï¼ˆã•ãã›ã„ã«ã¡ã˜ï¼‰                | Thá»i Ä‘iá»ƒm táº¡o báº£n ghi |
| updated_at             | æ›´æ–°æ—¥æ™‚ï¼ˆã“ã†ã—ã‚“ã«ã¡ã˜ï¼‰                | Thá»i Ä‘iá»ƒm cáº­p nháº­t báº£n ghi |
| FOREIGN KEY            | å¤–éƒ¨ã‚­ãƒ¼ï¼ˆãŒã„ã¶ã‚­ãƒ¼ï¼‰                    | LiÃªn káº¿t vá»›i báº£ng students qua student_id |
| idx_profile_updated    | æ›´æ–°æ—¥ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹                        | Index theo ngÃ y cáº­p nháº­t há»“ sÆ¡ |

CREATE TABLE student_profiles (
    profile_id INT PRIMARY KEY AUTO_INCREMENT,
    student_id INT NOT NULL,

    skills TEXT,
    aspirations TEXT,

    certifications TEXT,
    languages VARCHAR(255),
    hobbies TEXT,
    career_goals TEXT,

    profile_updated_date DATE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE,
    INDEX idx_profile_updated (profile_updated_date)x
);


| subject_id         | ç§‘ç›®IDï¼ˆã‹ã‚‚ãIDï¼‰                     | MÃ£ mÃ´n há»c, khÃ³a chÃ­nh |
| subject_code       | ç§‘ç›®ã‚³ãƒ¼ãƒ‰ï¼ˆã‹ã‚‚ãã‚³ãƒ¼ãƒ‰ï¼‰             | MÃ£ Ä‘á»‹nh danh mÃ´n há»c (duy nháº¥t) |
| subject_name       | ç§‘ç›®åï¼ˆã‹ã‚‚ãã‚ã„ï¼‰                   | TÃªn mÃ´n há»c |
| credits            | å˜ä½æ•°ï¼ˆãŸã‚“ã„ã™ã†ï¼‰                   | Sá»‘ tÃ­n chá»‰ |
| subject_type       | ç§‘ç›®åŒºåˆ†ï¼ˆã‹ã‚‚ããã¶ã‚“ï¼‰               | Loáº¡i mÃ´n há»c: å¿…ä¿® (báº¯t buá»™c), é¸æŠžå¿…ä¿® (báº¯t buá»™c cÃ³ chá»n), é¸æŠž (tá»± chá»n) |
| department         | æ‰€å±žå­¦ç§‘ï¼ˆã—ã‚‡ãžããŒã£ã‹ï¼‰             | Khoa hoáº·c bá»™ mÃ´n phá»¥ trÃ¡ch |
| instructor         | æ‹…å½“æ•™å“¡ï¼ˆãŸã‚“ã¨ã†ãã‚‡ã†ã„ã‚“ï¼‰         | Giáº£ng viÃªn phá»¥ trÃ¡ch |

| created_at         | ä½œæˆæ—¥æ™‚ï¼ˆã•ãã›ã„ã«ã¡ã˜ï¼‰             | Thá»i Ä‘iá»ƒm táº¡o báº£n ghi |
| updated_at         | æ›´æ–°æ—¥æ™‚ï¼ˆã“ã†ã—ã‚“ã«ã¡ã˜ï¼‰             | Thá»i Ä‘iá»ƒm cáº­p nháº­t báº£n ghi |

| idx_subject_code   | ç§‘ç›®ã‚³ãƒ¼ãƒ‰ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹                 | Index theo mÃ£ mÃ´n há»c |
| idx_subject_type   | ç§‘ç›®åŒºåˆ†ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹                   | Index theo loáº¡i mÃ´n há»c |

CREATE TABLE subjects (
    subject_id INT PRIMARY KEY AUTO_INCREMENT,
    subject_code VARCHAR(20) UNIQUE NOT NULL,
    subject_name VARCHAR(100) NOT NULL,
    credits INT NOT NULL,
    subject_type ENUM('å¿…ä¿®', 'é¸æŠžå¿…ä¿®', 'é¸æŠž') NOT NULL,
    department VARCHAR(50),
    instructor VARCHAR(100),

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    INDEX idx_subject_code (subject_code),
    INDEX idx_subject_type (subject_type)
);


| grade_id                         | æˆç¸¾IDï¼ˆã›ã„ã›ãIDï¼‰                     | MÃ£ báº£n ghi Ä‘iá»ƒm, khÃ³a chÃ­nh |
| student_id                       | å­¦ç”ŸIDï¼ˆãŒãã›ã„IDï¼‰                     | MÃ£ sá»‘ há»c sinh, liÃªn káº¿t vá»›i báº£ng students |
| subject_id                       | ç§‘ç›®IDï¼ˆã‹ã‚‚ãIDï¼‰                       | MÃ£ mÃ´n há»c, liÃªn káº¿t vá»›i báº£ng subjects |
| academic_year                    | å­¦å¹´åº¦ï¼ˆãŒãã­ã‚“ã©ï¼‰                     | NÄƒm há»c (dáº¡ng YYYY) |
| semester                         | å­¦æœŸï¼ˆãŒã£ãï¼‰                           | Há»c ká»³: å‰æœŸ (ká»³ Ä‘áº§u), å¾ŒæœŸ (ká»³ sau), é€šå¹´ (cáº£ nÄƒm) |

| midterm_score                    | ä¸­é–“è©¦é¨“ç‚¹æ•°ï¼ˆã¡ã‚…ã†ã‹ã‚“ã—ã‘ã‚“ã¦ã‚“ã™ã†ï¼‰ | Äiá»ƒm thi giá»¯a ká»³ |
| final_score                      | æœŸæœ«è©¦é¨“ç‚¹æ•°ï¼ˆãã¾ã¤ã—ã‘ã‚“ã¦ã‚“ã™ã†ï¼‰     | Äiá»ƒm thi cuá»‘i ká»³ |
| assignment_score                 | èª²é¡Œç‚¹æ•°ï¼ˆã‹ã ã„ã¦ã‚“ã™ã†ï¼‰               | Äiá»ƒm bÃ i táº­p |
| attendance_score                 | å‡ºå¸­ç‚¹æ•°ï¼ˆã—ã‚…ã£ã›ãã¦ã‚“ã™ã†ï¼‰           | Äiá»ƒm chuyÃªn cáº§n |

| total_score                      | ç·åˆç‚¹æ•°ï¼ˆãã†ã”ã†ã¦ã‚“ã™ã†ï¼‰             | Tá»•ng Ä‘iá»ƒm (tá»± Ä‘á»™ng tÃ­nh theo trá»ng sá»‘) |
| letter_grade                     | è©•ä¾¡ï¼ˆã²ã‚‡ã†ã‹ï¼‰                         | Äiá»ƒm chá»¯: A+, A, B+, B, C+, C, D, F |
| credits_earned                   | å–å¾—å˜ä½ï¼ˆã—ã‚…ã¨ããŸã‚“ã„ï¼‰               | Sá»‘ tÃ­n chá»‰ Ä‘áº¡t Ä‘Æ°á»£c |

| created_at                       | ä½œæˆæ—¥æ™‚ï¼ˆã•ãã›ã„ã«ã¡ã˜ï¼‰               | Thá»i Ä‘iá»ƒm táº¡o báº£n ghi |
| updated_at                       | æ›´æ–°æ—¥æ™‚ï¼ˆã“ã†ã—ã‚“ã«ã¡ã˜ï¼‰               | Thá»i Ä‘iá»ƒm cáº­p nháº­t báº£n ghi |

| FOREIGN KEY (student_id)         | å¤–éƒ¨ã‚­ãƒ¼ï¼šå­¦ç”ŸID                         | LiÃªn káº¿t vá»›i báº£ng students |
| FOREIGN KEY (subject_id)         | å¤–éƒ¨ã‚­ãƒ¼ï¼šç§‘ç›®ID                         | LiÃªn káº¿t vá»›i báº£ng subjects |
| UNIQUE KEY student+subject+year | ä¸€æ„ã‚­ãƒ¼ï¼ˆã„ã¡ã„ã‚­ãƒ¼ï¼‰                   | Äáº£m báº£o má»—i há»c sinh chá»‰ cÃ³ 1 báº£n ghi má»—i mÃ´n má»—i há»c ká»³ |
| idx_total_score                  | ç·åˆç‚¹æ•°ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹                     | Index theo tá»•ng Ä‘iá»ƒm |
| idx_letter_grade                 | è©•ä¾¡ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹                         | Index theo Ä‘iá»ƒm chá»¯ |

CREATE TABLE grade_details (
    grade_id INT PRIMARY KEY AUTO_INCREMENT,
    student_id INT NOT NULL,
    subject_id INT NOT NULL,
    academic_year YEAR NOT NULL,
    semester ENUM('å‰æœŸ', 'å¾ŒæœŸ', 'é€šå¹´') NOT NULL,

    midterm_score DECIMAL(5,2),
    final_score DECIMAL(5,2),
    assignment_score DECIMAL(5,2),
    attendance_score DECIMAL(5,2),

    total_score DECIMAL(5,2) GENERATED ALWAYS AS (
        IFNULL(midterm_score, 0) * 0.3 +
        IFNULL(final_score, 0) * 0.4 +
        IFNULL(assignment_score, 0) * 0.2 +
        IFNULL(attendance_score, 0) * 0.1
    ) STORED,

    letter_grade ENUM('A+', 'A', 'B+', 'B', 'C+', 'C', 'D', 'F'),
    credits_earned INT DEFAULT 0,

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE,
    FOREIGN KEY (subject_id) REFERENCES subjects(subject_id) ON DELETE CASCADE,
    UNIQUE KEY unique_student_subject_year_semester (student_id, subject_id, academic_year, semester),
    INDEX idx_total_score (total_score),
    INDEX idx_letter_grade (letter_grade)
);

